<html>
    <head>
        <title>New test for no output trainer</title>
        <script src='../google/tensorflow2.7.0.min.js'></script>
        <script src='../TFLayerPath.js'></script>

        <script>
            //shortcut varialbes
            var cropSize=64;var C=1+(2+4),Cx=3;var scale=.3
            var normalize={r:0,c:C,divide:255,w:cropSize,h:cropSize,x:0,y:0,xscale:scale,yscale:scale,rescale:false};

            var defaultActivation='tanh';
            var inputActivation='relu6';
            var outputActivation='sigmoid';
            var _mse='meanSquaredError';
            var _cce='categoricalCrossentropy';
            var lrm=1;//Learning rate multiplier
            var l=tf.layers;
            var t=tf.tensor;
            var myloss=_mse//(Y,y)=>Y.sub(y).pow(4);//tf.losses.absoluteDifference//'logLoss';

        </script>
        <script>
            var i,j;
            var p1=new TFLayerPath();
            p1.add('in1',tf.input({shape:[5]}));
            //p1.add('cx',l.concatenate(),['in1','in1','in1']);
            var b,bb,c;
            var idea=getVar('idea') || '1';
           
            
            function lr(newLearningRate){
                if(newLearningRate)
                    m.optimizer.learningRate=newLearningRate;
            }

            function $(id){return document.getElementById(id);}
            
            function getVar(varName){
                return new URLSearchParams(window.location.search).get(varName);
            }

            function stop(){
                m.stopTraining=true;
            }

        </script>
    </head>
    <body>
        <button onclick="testEvaluate()">evaluate</button> <small id='ev'></small><br>
        <button onclick="testTrain('epochs')">Train</button>
        <input id='epochs' size=1 value=55></input><small id='counter'>Epochs</small>
        <br>Accuricy: <i id='acc'></i>
        
        
    </body>
</html>